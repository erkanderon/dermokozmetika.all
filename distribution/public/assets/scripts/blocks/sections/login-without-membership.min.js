define(["vendors/jquery.$$.min","vendors/jquery.min","vendors/jquery-validate.min","vendors/underscore.min"],{elements:{$btn:"#login-without-membership-section-block-btn",$form:"#login-without-membership-section-block-form"},init:function(){return this.validate=$$(this.elements.$form).validate({submitHandler:function(e){return $.ajax(_.extend(blocks.sections["login-without-membership"].requests.login,{beforeSend:function(){return $$(blocks.sections["login-without-membership"].elements.$btn).loading()},complete:function(){return $$(blocks.sections["login-without-membership"].elements.$btn).loading("hide")},data:$$(e).serializeArray(),success:function(e){var t;return e.status?location.href=e.url:blocks.sections["login-without-membership"].validate.showErrors((t={},t[""+e.key]=e.statusText,t))}})),!1}})},requests:{login:{dataType:"json",type:"post",url:"/srv/service/customer/order-login"}}});